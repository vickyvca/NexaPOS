<Page x:Class="POS.App.Views.PosView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="POS">
  <Grid Margin="16">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>
    <!-- Controls row -->
    <StackPanel Orientation="Horizontal" Grid.Row="0">
      <TextBlock Text="Gudang:" VerticalAlignment="Center" Margin="0,0,8,0"/>
      <ComboBox x:Name="CmbWarehouse" Width="240"/>
      <TextBlock Text="Harga:" VerticalAlignment="Center" Margin="16,0,8,0"/>
      <ComboBox x:Name="CmbLevel" Width="140">
        <ComboBoxItem Content="H1"/>
        <ComboBoxItem Content="H2"/>
        <ComboBoxItem Content="Grosir"/>
      </ComboBox>
      <CheckBox x:Name="ChkPpn" Content="PPN 11%" Margin="16,0,0,0"/>
    </StackPanel>

    <!-- Scan/search -->
    <Border Grid.Row="1" Style="{StaticResource CardBorder}" Margin="0,12,0,12">
      <DockPanel>
        <TextBox x:Name="TxtScan" Height="36" KeyDown="TxtScan_OnKeyDown" DockPanel.Dock="Left" Width="420"/>
        <TextBlock Text="Enter untuk tambah ke keranjang" VerticalAlignment="Center" Margin="12,0,0,0"/>
      </DockPanel>
    </Border>

    <!-- Cart table -->
    <Border Grid.Row="2" Style="{StaticResource CardBorder}">
      <DataGrid x:Name="GridCart" AutoGenerateColumns="False" CanUserAddRows="False" HeadersVisibility="Column" IsReadOnly="False">
        <DataGrid.Columns>
          <DataGridTextColumn Header="#" Width="40" IsReadOnly="True" Binding="{Binding Index}"/>
          <DataGridTextColumn Header="Nama" Width="*" IsReadOnly="True" Binding="{Binding Name}"/>
          <DataGridTextColumn Header="Qty" Width="80" Binding="{Binding Qty, UpdateSourceTrigger=PropertyChanged}"/>
          <DataGridTextColumn Header="Harga" Width="120" Binding="{Binding Price, UpdateSourceTrigger=PropertyChanged}"/>
          <DataGridTextColumn Header="Total" Width="120" IsReadOnly="True" Binding="{Binding Total}"/>
          <DataGridTemplateColumn Header="Aksi" Width="80">
            <DataGridTemplateColumn.CellTemplate>
              <DataTemplate>
                <Button Content="Hapus" Padding="6,2" Click="Cart_Remove_Click"/>
              </DataTemplate>
            </DataGridTemplateColumn.CellTemplate>
          </DataGridTemplateColumn>
        </DataGrid.Columns>
      </DataGrid>
    </Border>

    <!-- Totals & Pay -->
    <DockPanel Grid.Row="3" Margin="0,12,0,0">
      <Border Style="{StaticResource CardBorder}" DockPanel.Dock="Right">
        <StackPanel Orientation="Horizontal">
          <TextBlock x:Name="TxtTotals" FontWeight="Bold" VerticalAlignment="Center" Margin="0,0,12,0"/>
          <Button Content="Bayar" Click="Pay_OnClick" Background="{StaticResource PrimaryBrush}" Foreground="White"/>
        </StackPanel>
      </Border>
    </DockPanel>
  </Grid>
</Page>

